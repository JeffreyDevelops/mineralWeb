<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     <!-- AUTHOR STYLESHEET -->
    <link rel="stylesheet" href='/stylesheets/practice.css'>
  <title>Leaderboard | Mineral</title>
</head>
<body>

     <!-- NAVBAR -->
     <nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark">
        <div style="padding-right: 8rem; padding-left: 8rem;" class="container-fluid nav-padding">
          <a class="navbar-brand glow" href="/"><span style="color: #04329b; font-weight: bold;">MINE</span>RAL</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
            <div style="gap: 2rem;" class="navbar-nav">
              <a class="nav-link" aria-current="page" href="/" style="font-size: 1.2rem; text-align: center;">Home</a>
              <a class="nav-link" href="/staff" style="font-size: 1.2rem; text-align: center;">Staff</a>
              <a class="nav-link active" href="/leaderboards" style="font-size: 1.2rem; text-align: center; color: #04329b;">Leaderboards</a>
              <a class="nav-link" href="#" style="font-size: 1.2rem; text-align: center;">FAQ</a>
              <form class="d-flex">
                <input style="border: none; background-color: transparent; color: rgba(255, 255, 255, 0.795); font-weight: bold; border-bottom: 1px solid #04329b;border-radius: 0; padding: 0;" id="myInput" class="search-input form-control me-2" type="search" placeholder="Search for Player" aria-label="Search" onkeypress="return event.keyCode != 13;">
                <button style="background-color: #04329b!important; color: rgba(255, 255, 255, 0.795)!important;" id="myBtn" class="search-btn btn btn-outline-primary" type="button">Search</button>
              </form>
            </div>
            
          </div>
        </div>
      </nav>
  
      <script>
        var input = document.getElementById("myInput");
        input.addEventListener("keyup", function(event) {
          if (event.keyCode === 13) {
           event.preventDefault();
           document.getElementById("myBtn").click();
          }
        });
        </script>
  
      <script>
        let search_inp = document.querySelector(".search-input");
        let target = document.querySelector(".search-btn");
        const array = <%-JSON.stringify(pp).toLocaleLowerCase()%>;
        const normal_array = <%-JSON.stringify(pp)%>;
        target.addEventListener("click", e =>{
  
          const match = array.find(element => {
          if (element.includes(search_inp.value.toLocaleLowerCase())) {
            return true;
          }  
        });
  
        
        if (search_inp.value !== "") {
          let geti = array.indexOf(match); 
          console.log(match);
          let right_name = normal_array[geti];
          console.log(right_name);
          location.href = `/player/${right_name}`;
        } else {
          alert("You need to type a username of your choice!");
        }
        });
      </script>

       <!-- inner-land-page -->
    <div class="container-fluid" style="padding: 0;">
        <div class="bg-1 d-flex justify-content-center align-items-center">
          <div class="d-flex flex-column align-items-center">
            <div>
                <h1 class="glow" style="text-align: center; color: rgba(255, 255, 255, 0.795); font-weight: bold; font-size: min(max(30px, 10vw), 80px);"><%=parameter%></h1>
        </div>
          
        </div>
        </div>
      </div>

    <div class="table-data table-responsive">
    <table class="flex-container table table-dark table-striped" style="margin-top: 4rem; width: 85%; margin-left: auto; margin-right: auto;">
        
        <tr>
            <th class="rank" scope="col">Rank</th>
            <th class="player" scope="col">Player</th>
            <th class="elo" scope="col">Elo</th>
        </tr>
        <% if (page <= 0 || isNaN(page)) { %>
            <tr>
                <td colspan="7">404 Error :)</td>
            </tr>
        
        <% } else if (page => 1) { %>
            <% let i=1; %>
        
        <%userData.forEach(function(data) { %>
        
        <tr>
          <% if (page <= 1) {%>
            <th style="font-size: 1.4rem;" scope="row"><%=`${i++}#`; %></td>
              <% } else {%>
                <th style="font-size: 1.4rem;" scope="row"><%=`${15*page-15+i++}#`; %></td>
                <% } %>
            <td style="font-size: 1.4rem;"><img class="rounded" src="<%=`https://visage.surgeplay.com/face/24/${data.UUID}`%>" alt=""><a href="/player/<%=data.PLAYER%>"><%=data.PLAYER %></a></td>
            <td style="font-size: 1.4rem;"><%=data.ELO %></td>
            
        </tr>

        <% })%> 
        <% } %>

    </table>
    <div class="break"></div>
    <!--Display the links to the pages-->
    <div class="pagination">
      <a href="/practice/<%=parameter%>/?page=1">â®ˆ</a>
    <% if(page > 1) { %> <a href="/practice/<%=parameter%>/?page=<%=page-1%>"><div style="transform: rotate(180deg);">âž©</div></a> <% } %>
    <% for(let i = iterator; i <= endingLink; i++) { %>
        <% if(i === page) { %>
        <a class="selectedLink" href="/practice/<%=parameter%>/?page=<%=i%>"><%=i%></a>
        <% continue; %>
    <% } %>
        <a href="/practice/<%=parameter%>/?page=<%=i%>"><%=i%></a>
        <% } %>
        <% if(page > 1) { %> <a href="/practice/<%=parameter%>/?page=<%=page+1%>">âž©</a> <% } %>
        <a href="/practice/<%=parameter%>/?page=<%=numberofPages%>">âž²</a>
    </div>
</div>
  <!-- FOOTER -->
  <hr style="margin: 0; border-bottom: 8px solid #04329b; opacity: 1;">
  <footer class="container-fluid" style="padding: 0;">
    <div class="mineral-footer d-flex flex-column justify-content-center align-items-center">
      <div class="container" style="width: auto;">
        <div class="row">
          <div class="col">
            <a class="navbar-brand footer-brand glow" href="/"><span style="color: #04329b; font-weight: bold;">MINE</span>RAL.gg ðŸ’™</a>
        </div>
        <div class="mineral-foot-links col d-flex justify-content-center align-items-center">
          
            <a class="nav-link " aria-current="page" href="/" style="font-size: 1.2rem;">Home</a>
            <a class="nav-link" href="/staff" style="font-size: 1.2rem;">Staff</a>
            <a class="nav-link active" href="/leaderboards" style="font-size: 1.2rem;  color: #04329b;">Leaderboards</a>
            <a class="nav-link" href="#" style="font-size: 1.2rem;">FAQ</a>
          
        </div>
          <div id="footer-items" class="col d-flex justify-content-end align-items-center">
            <div style="gap: 1.5rem;" class="d-flex">
            <a href="#"><img class="skin-size" src="/images/discord-icon.svg" alt=""></a>
            <a href="#"><img class="skin-size"  src="/images/twitter-icon.svg" alt=""></a>
          </div>
          </div> 
          </div>
          <hr class="footer-line" style="color: #04329b; height: 0.5rem; border-radius: 2rem; width: 100%; opacity: 1;">
          <div>
            <p style="color: rgba(255, 255, 255, 0.795);">Â© 2023 Mineral Studios, All Rights Reserved.</p>
          </div>
      </div>
    </div>
  </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>